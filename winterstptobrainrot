local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game:GetService("CoreGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 160, 0, 80)
Frame.Position = UDim2.new(0.78, 0, 0.45, 0)
Frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0,10)

local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Size = UDim2.new(1,0,0,24)
Title.Position = UDim2.new(0,0,0,4)
Title.BackgroundTransparency = 1
Title.Text = "WINTER SCRIPTS"
Title.Font = Enum.Font.Code
Title.TextSize = 15
Title.TextColor3 = Color3.new(1,1,1)

local function makeButton(text, y)
    local b = Instance.new("TextButton")
    b.Parent = Frame
    b.Size = UDim2.new(0.9,0,0,28)
    b.Position = UDim2.new(0.05,0,0,y)
    b.BackgroundColor3 = Color3.fromRGB(15,15,15)
    b.BorderSizePixel = 0
    b.Text = text
    b.Font = Enum.Font.Code
    b.TextSize = 13
    b.TextColor3 = Color3.new(1,1,1)
    Instance.new("UICorner", b).CornerRadius = UDim.new(0,6)
    return b
end

local btnTP = makeButton("TP", 30)

local targetPosition = Vector3.new(-345.8453063964844, -7.3000030517578125, 24.168176651000977)

local function equipFlyingCarpet()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local backpack = LocalPlayer:WaitForChild("Backpack")
    local carpet = backpack:FindFirstChild("Flying Carpet")
    if carpet then
        carpet.Parent = char
    end
end

btnTP.MouseButton1Click:Connect(function()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    equipFlyingCarpet()
    hrp.CFrame = CFrame.new(targetPosition)
    task.wait(0.1)
    hrp.CFrame = hrp.CFrame + Vector3.new(15,0,0)
end)
